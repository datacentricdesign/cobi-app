(self.webpackChunkpd_free_angularcli=self.webpackChunkpd_free_angularcli||[]).push([[345],{345:(G,ee,w)=>{"use strict";w.r(ee),w.d(ee,{MyAppModule:()=>On});var Z=w(9808),F=w(2382),L=w(5852),A=w(655),C=w(520),H=w(900),R=w(5026),i=w(4893),j=w(4327);const b=new i.OlP("saver");function y(){return j.saveAs}var O=w(6114),E=w(2290);let P=(()=>{class e{constructor(t,n,s,o,a){this.oauthService=t,this.http=n,this.appService=s,this.toastr=o,this.save=a,this.things=[],this.apiURL=this.appService.settings.apiURL}find(){const t=this.apiURL+"/things",n=this.getHeader();return this.http.get(t,{headers:n}).toPromise()}getProperties(t){const n=this.apiURL+"/things/"+t+"/properties",s=this.getHeader();return this.http.get(n,{headers:s}).toPromise()}findOrCreatePropertyByName(t,n,s){return(0,A.mG)(this,void 0,void 0,function*(){return this.getProperties(t).then(o=>{for(let a in o)if(o[a].name==n)return Promise.resolve(o[a]);return this.createProperty(t,{name:n,typeId:s})})})}getPropertyValues(t,n,s,o){const a=this.apiURL+"/things/"+t+"/properties/"+n,l=(new C.LE).set("from",s.from+"").set("to",s.to+"");void 0!==s.fctInterval&&l.set("fctInterval",s.fctInterval+""),void 0!==s.timeInterval&&l.set("timeInterval",s.timeInterval),void 0!==s.fill&&l.set("fill",s.fill);let h=this.getHeader();return h=h.set("Accept",o?"text/csv":"application/json"),this.http.get(a,{headers:h,params:l,responseType:"blob"}).toPromise()}createThing(t){const n=this.apiURL+"/things",s=this.getHeader();return this.http.post(n,t,{headers:s}).toPromise()}edit(t,n){const s=this.apiURL+"/things/"+t,o=this.getHeader(),a={};return void 0!==n.name&&""!==n.name&&(a.name=n.name),void 0!==n.description&&""!==n.description&&(a.description=n.description),this.http.patch(s,a,{headers:o}).toPromise()}updatePEM(t,n){const s=this.apiURL+"/things/"+t+"/pem",o=this.getHeader();return this.http.patch(s,{pem:n},{headers:o}).toPromise()}delete(t){const n=this.apiURL+"/things/"+t,s=this.getHeader();return this.http.delete(n,{headers:s}).toPromise()}grant(t,n,s,o){const a=this.apiURL+"/things/"+t+"/properties/"+n+"/consents",l=this.getHeader();return this.http.post(a,{subjects:s,actions:o},{headers:l}).toPromise()}revoke(t,n,s){const o=this.apiURL+"/things/"+t+"/properties/"+n+"/consents/"+s,a=this.getHeader();return this.http.delete(o,{headers:a}).toPromise()}createProperty(t,n){const s=this.getHeader();return this.http.post(this.apiURL+"/things/"+t+"/properties",n,{headers:s}).toPromise()}editProperty(t,n,s){const o=this.apiURL+"/things/"+t+"/properties/"+n,a=this.getHeader(),l={};return void 0!==s.name&&""!==s.name&&(l.name=s.name),void 0!==s.description&&""!==s.description&&(l.description=s.description),this.http.patch(o,l,{headers:a}).toPromise()}deleteProperty(t,n){const s=this.apiURL+"/things/"+t+"/properties/"+n,o=this.getHeader();return this.http.delete(s,{headers:o}).toPromise()}lastValues(t,n){const s=this.apiURL+"/things/"+t+"/properties/"+n+"/last",o=this.getHeader();return this.http.get(s,{headers:o}).toPromise()}dpCount(t,n){let s=this.apiURL+"/things/count?from="+t;void 0!==n&&(s+="&timeInterval="+n);const o=this.getHeader();return this.http.get(s,{headers:o}).toPromise()}sharedProperties(t="*",n,s){return(0,A.mG)(this,void 0,void 0,function*(){let o=this.apiURL+"/properties?sharedWith="+t;void 0!==n&&void 0!==s&&(o+="&from="+n+"&timeInterval="+s);const a=this.getHeader();return this.http.get(o,{headers:a}).toPromise()})}getPropertyTypes(){return(0,A.mG)(this,void 0,void 0,function*(){if(this.propertyTypes)return Promise.resolve(this.propertyTypes);const t=this.apiURL+"/types",n=this.getHeader();return yield this.http.get(t,{headers:n}).subscribe(s=>{this.propertyTypes=s},s=>{console.warn("status",s.status)}),Promise.resolve(this.propertyTypes)})}csvFileUpload(t,n,s,o){const a=this.apiURL+"/things/"+t+"/properties/"+n+"?hasLabel="+(o?"true":"false"),l=this.getHeader(),h=new FormData;return h.append("fileKey",s,s.name),this.http.put(a,h,{headers:l}).toPromise()}updatePropertyValues(t,n){const s=this.apiURL+"/things/"+t+"/properties/"+n.id,o=this.getHeader();return this.http.put(s,n,{headers:o}).toPromise()}dpiStatus(t){const n=this.apiURL+"/things/"+t+"/types/dpi",s=this.getHeader();return this.http.get(n,{headers:s}).toPromise()}dpiCreate(t,n){const s=this.apiURL+"/things/"+t+"/types/dpi",o=this.getHeader();return this.http.post(s,n,{headers:o}).toPromise()}dpiCancel(t){const n=this.apiURL+"/things/"+t+"/types/dpi/cancel",s=new C.WM({timeout:"20000"}).set("Authorization","Bearer "+this.oauthService.getAccessToken());return this.http.get(n,{headers:s}).toPromise()}dpiDelete(t){const n=this.apiURL+"/things/"+t+"/types/dpi",s=this.getHeader();return this.http.delete(n,{headers:s}).toPromise()}dpiDownload(t){const n=this.apiURL+"/things/"+t+"/types/dpi",s=this.getHeader(),o=(new C.LE).set("download","true"),a="dpi_image_"+t.replace("dcd:things:","")+".zip";return this.http.get(n,{headers:s,params:o,reportProgress:!0,observe:"events",responseType:"blob"}).pipe(function he(e){return r=>r.pipe((0,R.R)((t,n)=>{if(K(n)){let o=Math.round(100*n.loaded/1166082792);o>100&&(o=100);const a=document.getElementById("download-dpi-image-progress");return a&&(a.style.width=o+"%"),{progress:Math.round(100*n.loaded/1166082792),state:"IN_PROGRESS",content:null}}if(V(n)){e&&n.body&&e(n.body);const s=document.getElementById("downloadImage");s&&(s.disabled=!1);const o=document.getElementById("spinnerDownloadImage");o&&(o.style.display="none");const a=document.getElementById("download-dpi-image-progress-bar");return a&&(a.style.display="none"),{progress:100,state:"DONE",content:n.body}}return t},{state:"PENDING",progress:0,content:null}))}(l=>this.save(l,a)))}takeout(){const t=this.apiURL+"/takeout",n=this.getHeader();return this.http.get(t,{headers:n,reportProgress:!0,observe:"events",responseType:"blob"}).pipe(function te(e){return r=>r.pipe((0,R.R)((t,n)=>{if(K(n)){let o=Math.round(100*n.loaded/1166082792);return o>100&&(o=100),{progress:Math.round(100*n.loaded/1166082792),state:"IN_PROGRESS",content:null}}if(V(n)){e&&n.body&&e(n.body);const s=document.getElementById("nav-progress-bar");return s&&(s.style.display="none"),{progress:100,state:"DONE",content:n.body}}return t},{state:"PENDING",progress:0,content:null}))}(o=>this.save(o,"takeout.zip")))}createGrafanaThing(t){const n=this.apiURL+"/things/"+t+"/apps/grafana",s=this.getHeader();return this.http.post(n,{},{headers:s}).toPromise()}getGrafanaId(t){const n=this.apiURL+"/things/"+t+"/apps/grafana/user",s=this.getHeader();return this.http.get(n,{headers:s}).toPromise()}getDPiHealth(){const t=this.apiURL+"/things/types/dpi/health",n=this.getHeader();return this.http.get(t,{headers:n}).toPromise()}getHeader(){return(new C.WM).set("Accept","application/json").set("Authorization","Bearer "+this.oauthService.getAccessToken())}toast(t,n="danger",s="nc-alert-circle-i"){let o="";"string"==typeof t?o=t:void 0!==t.error&&"string"!=typeof t.error?(o=t.error.name+" -- "+t.error.message,t.error.requirement&&(o+="<br>Requirement: "+t.error.requirement),t.error.hint&&(o+="<br>Hint: "+t.error.hint)):o="Bucket service unavailable.",this.toastr.info('<span data-notify="icon" class="nc-icon '+s+'"></span><span data-notify="message">'+o+"</span>","",{timeOut:4e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-"+n+" alert-with-icon",positionClass:"toast-top-center"})}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(O.Ct),i.LFG(C.eN),i.LFG(H.z),i.LFG(E._W),i.LFG(b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function V(e){return e.type===C.dt.Response}function K(e){return e.type===C.dt.DownloadProgress||e.type===C.dt.UploadProgress}const Y=[{name:"cobi",src:"https://cdn.cobi.bike/cobi.js/0.59.0/cobi.js"}];let D=(()=>{class e{constructor(){this.scripts={},Y.forEach(t=>{this.scripts[t.name]={loaded:!1,src:t.src}})}load(...t){const n=[];return t.forEach(s=>n.push(this.loadScript(s))),Promise.all(n)}loadScript(t){return new Promise((n,s)=>{if(this.scripts[t].loaded)n({script:t,loaded:!0,status:"Already Loaded"});else{const o=document.createElement("script");o.type="text/javascript",o.src=this.scripts[t].src,o.onload=()=>{this.scripts[t].loaded=!0,console.log(`${t} Loaded.`),n({script:t,loaded:!0,status:"Loaded"})},o.onerror=a=>n({script:t,loaded:!1,status:"Loaded"}),document.getElementsByTagName("head")[0].appendChild(o)}})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Re(e,r){return function(){return e.apply(r,arguments)}}const{toString:Oe}=Object.prototype,{getPrototypeOf:fe}=Object,me=(e=Object.create(null),r=>{const t=Oe.call(r);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())}),k=e=>(e=e.toLowerCase(),r=>me(r)===e),ne=e=>r=>typeof r===e,{isArray:q}=Array,X=ne("undefined");var e;const Ce=k("ArrayBuffer"),at=ne("string"),B=ne("function"),_e=ne("number"),ge=e=>null!==e&&"object"==typeof e,re=e=>{if("object"!==me(e))return!1;const r=fe(e);return!(null!==r&&r!==Object.prototype&&null!==Object.getPrototypeOf(r)||Symbol.toStringTag in e||Symbol.iterator in e)},lt=k("Date"),ut=k("File"),dt=k("Blob"),pt=k("FileList"),mt=k("URLSearchParams");function $(e,r,{allOwnKeys:t=!1}={}){if(null==e)return;let n,s;if("object"!=typeof e&&(e=[e]),q(e))for(n=0,s=e.length;n<s;n++)r.call(null,e[n],n,e);else{const o=t?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let l;for(n=0;n<a;n++)l=o[n],r.call(null,e[l],l,e)}}function Ue(e,r){r=r.toLowerCase();const t=Object.keys(e);let s,n=t.length;for(;n-- >0;)if(s=t[n],r===s.toLowerCase())return s;return null}const Le="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ke=e=>!X(e)&&e!==Le,St=(e=>r=>e&&r instanceof e)("undefined"!=typeof Uint8Array&&fe(Uint8Array)),Rt=k("HTMLFormElement"),xe=(({hasOwnProperty:e})=>(r,t)=>e.call(r,t))(Object.prototype),Ct=k("RegExp"),Ne=(e,r)=>{const t=Object.getOwnPropertyDescriptors(e),n={};$(t,(s,o)=>{!1!==r(s,o,e)&&(n[o]=s)}),Object.defineProperties(e,n)},c={isArray:q,isArrayBuffer:Ce,isBuffer:function it(e){return null!==e&&!X(e)&&null!==e.constructor&&!X(e.constructor)&&B(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{const r="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||Oe.call(e)===r||B(e.toString)&&e.toString()===r)},isArrayBufferView:function ot(e){let r;return r="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ce(e.buffer),r},isString:at,isNumber:_e,isBoolean:e=>!0===e||!1===e,isObject:ge,isPlainObject:re,isUndefined:X,isDate:lt,isFile:ut,isBlob:dt,isRegExp:Ct,isFunction:B,isStream:e=>ge(e)&&B(e.pipe),isURLSearchParams:mt,isTypedArray:St,isFileList:pt,forEach:$,merge:function be(){const{caseless:e}=ke(this)&&this||{},r={},t=(n,s)=>{const o=e&&Ue(r,s)||s;r[o]=re(r[o])&&re(n)?be(r[o],n):re(n)?be({},n):q(n)?n.slice():n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&$(arguments[n],t);return r},extend:(e,r,t,{allOwnKeys:n}={})=>($(r,(s,o)=>{e[o]=t&&B(s)?Re(s,t):s},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,r,t,n)=>{e.prototype=Object.create(r.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),t&&Object.assign(e.prototype,t)},toFlatObject:(e,r,t,n)=>{let s,o,a;const l={};if(r=r||{},null==e)return r;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)a=s[o],(!n||n(a,e,r))&&!l[a]&&(r[a]=e[a],l[a]=!0);e=!1!==t&&fe(e)}while(e&&(!t||t(e,r))&&e!==Object.prototype);return r},kindOf:me,kindOfTest:k,endsWith:(e,r,t)=>{e=String(e),(void 0===t||t>e.length)&&(t=e.length);const n=e.indexOf(r,t-=r.length);return-1!==n&&n===t},toArray:e=>{if(!e)return null;if(q(e))return e;let r=e.length;if(!_e(r))return null;const t=new Array(r);for(;r-- >0;)t[r]=e[r];return t},forEachEntry:(e,r)=>{const n=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=n.next())&&!s.done;){const o=s.value;r.call(e,o[0],o[1])}},matchAll:(e,r)=>{let t;const n=[];for(;null!==(t=e.exec(r));)n.push(t);return n},isHTMLForm:Rt,hasOwnProperty:xe,hasOwnProp:xe,reduceDescriptors:Ne,freezeMethods:e=>{Ne(e,(r,t)=>{if(B(e)&&-1!==["arguments","caller","callee"].indexOf(t))return!1;if(B(e[t])){if(r.enumerable=!1,"writable"in r)return void(r.writable=!1);r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},toObjectSet:(e,r)=>{const t={},n=s=>{s.forEach(o=>{t[o]=!0})};return q(e)?n(e):n(String(e).split(r)),t},toCamelCase:e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(t,n,s){return n.toUpperCase()+s}),noop:()=>{},toFiniteNumber:(e,r)=>(e=+e,Number.isFinite(e)?e:r),findKey:Ue,global:Le,isContextDefined:ke,toJSONObject:e=>{const r=new Array(10),t=(n,s)=>{if(ge(n)){if(r.indexOf(n)>=0)return;if(!("toJSON"in n)){r[s]=n;const o=q(n)?[]:{};return $(n,(a,l)=>{const h=t(a,s+1);!X(h)&&(o[l]=h)}),r[s]=void 0,o}}return n};return t(e,0)}};function z(e,r,t,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",r&&(this.code=r),t&&(this.config=t),n&&(this.request=n),s&&(this.response=s)}c.inherits(z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:c.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const De=z.prototype,Me={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Me[e]={value:e}}),Object.defineProperties(z,Me),Object.defineProperty(De,"isAxiosError",{value:!0}),z.from=(e,r,t,n,s,o)=>{const a=Object.create(De);return c.toFlatObject(e,a,function(h){return h!==Error.prototype},l=>"isAxiosError"!==l),z.call(a,e.message,r,t,n,s),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const v=z,Ut=w(7839);function ye(e){return c.isPlainObject(e)||c.isArray(e)}function Be(e){return c.endsWith(e,"[]")?e.slice(0,-2):e}function Ie(e,r,t){return e?e.concat(r).map(function(s,o){return s=Be(s),!t&&o?"["+s+"]":s}).join(t?".":""):r}const kt=c.toFlatObject(c,{},null,function(r){return/^is[A-Z]/.test(r)}),se=function Nt(e,r,t){if(!c.isObject(e))throw new TypeError("target must be an object");r=r||new(Ut||FormData);const n=(t=c.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,N){return!c.isUndefined(N[g])})).metaTokens,s=t.visitor||p,o=t.dots,a=t.indexes,h=(t.Blob||"undefined"!=typeof Blob&&Blob)&&function xt(e){return e&&c.isFunction(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator]}(r);if(!c.isFunction(s))throw new TypeError("visitor must be a function");function u(d){if(null===d)return"";if(c.isDate(d))return d.toISOString();if(!h&&c.isBlob(d))throw new v("Blob is not supported. Use a Buffer instead.");return c.isArrayBuffer(d)||c.isTypedArray(d)?h&&"function"==typeof Blob?new Blob([d]):Buffer.from(d):d}function p(d,g,N){let _=d;if(d&&!N&&"object"==typeof d)if(c.endsWith(g,"{}"))g=n?g:g.slice(0,-2),d=JSON.stringify(d);else if(c.isArray(d)&&function Lt(e){return c.isArray(e)&&!e.some(ye)}(d)||c.isFileList(d)||c.endsWith(g,"[]")&&(_=c.toArray(d)))return g=Be(g),_.forEach(function(pe,Cn){!c.isUndefined(pe)&&null!==pe&&r.append(!0===a?Ie([g],Cn,o):null===a?g:g+"[]",u(pe))}),!1;return!!ye(d)||(r.append(Ie(N,g,o),u(d)),!1)}const m=[],T=Object.assign(kt,{defaultVisitor:p,convertValue:u,isVisitable:ye});if(!c.isObject(e))throw new TypeError("data must be an object");return function f(d,g){if(!c.isUndefined(d)){if(-1!==m.indexOf(d))throw Error("Circular reference detected in "+g.join("."));m.push(d),c.forEach(d,function(_,W){!0===(!(c.isUndefined(_)||null===_)&&s.call(r,_,c.isString(W)?W.trim():W,g,T))&&f(_,g?g.concat(W):[W])}),m.pop()}}(e),r};function Ze(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return r[n]})}function Fe(e,r){this._pairs=[],e&&se(e,this,r)}const He=Fe.prototype;He.append=function(r,t){this._pairs.push([r,t])},He.toString=function(r){const t=r?function(n){return r.call(this,n,Ze)}:Ze;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};const je=Fe;function Dt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ve(e,r,t){if(!r)return e;const n=t&&t.encode||Dt,s=t&&t.serialize;let o;if(o=s?s(r,t):c.isURLSearchParams(r)?r.toString():new je(r,t).toString(n),o){const a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const qe=class Mt{constructor(){this.handlers=[]}use(r,t,n){return this.handlers.push({fulfilled:r,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){c.forEach(this.handlers,function(n){null!==n&&r(n)})}},ze={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bt="undefined"!=typeof URLSearchParams?URLSearchParams:je,It=FormData,Zt=(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),Ft="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,U={isBrowser:!0,classes:{URLSearchParams:Bt,FormData:It,Blob},isStandardBrowserEnv:Zt,isStandardBrowserWebWorkerEnv:Ft,protocols:["http","https","file","blob","url","data"]},Je=function qt(e){function r(t,n,s,o){let a=t[o++];const l=Number.isFinite(+a),h=o>=t.length;return a=!a&&c.isArray(s)?s.length:a,h?(s[a]=c.hasOwnProp(s,a)?[s[a],n]:n,!l):((!s[a]||!c.isObject(s[a]))&&(s[a]=[]),r(t,n,s[a],o)&&c.isArray(s[a])&&(s[a]=function Vt(e){const r={},t=Object.keys(e);let n;const s=t.length;let o;for(n=0;n<s;n++)o=t[n],r[o]=e[o];return r}(s[a])),!l)}if(c.isFormData(e)&&c.isFunction(e.entries)){const t={};return c.forEachEntry(e,(n,s)=>{r(function jt(e){return c.matchAll(/\w+|\[(\w*)]/g,e).map(r=>"[]"===r[0]?"":r[1]||r[0])}(n),s,t,0)}),t}return null},zt={"Content-Type":void 0},ie={transitional:ze,adapter:["xhr","http"],transformRequest:[function(r,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,o=c.isObject(r);if(o&&c.isHTMLForm(r)&&(r=new FormData(r)),c.isFormData(r))return s&&s?JSON.stringify(Je(r)):r;if(c.isArrayBuffer(r)||c.isBuffer(r)||c.isStream(r)||c.isFile(r)||c.isBlob(r))return r;if(c.isArrayBufferView(r))return r.buffer;if(c.isURLSearchParams(r))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function Ht(e,r){return se(e,new U.classes.URLSearchParams,Object.assign({visitor:function(t,n,s,o){return U.isNode&&c.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},r))}(r,this.formSerializer).toString();if((l=c.isFileList(r))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return se(l?{"files[]":r}:r,h&&new h,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),function Jt(e,r,t){if(c.isString(e))try{return(r||JSON.parse)(e),c.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(t||JSON.stringify)(e)}(r)):r}],transformResponse:[function(r){const t=this.transitional||ie.transitional,n=t&&t.forcedJSONParsing,s="json"===this.responseType;if(r&&c.isString(r)&&(n&&!this.responseType||s)){const a=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(r)}catch(l){if(a)throw"SyntaxError"===l.name?v.from(l,v.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:U.classes.FormData,Blob:U.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};c.forEach(["delete","get","head"],function(r){ie.headers[r]={}}),c.forEach(["post","put","patch"],function(r){ie.headers[r]=c.merge(zt)});const ve=ie,Wt=c.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),We=Symbol("internals");function Q(e){return e&&String(e).trim().toLowerCase()}function oe(e){return!1===e||null==e?e:c.isArray(e)?e.map(oe):String(e)}function Ge(e,r,t,n){if(c.isFunction(n))return n.call(this,r,t);if(c.isString(r)){if(c.isString(n))return-1!==r.indexOf(n);if(c.isRegExp(n))return n.test(r)}}class ae{constructor(r){r&&this.set(r)}set(r,t,n){const s=this;function o(l,h,u){const p=Q(h);if(!p)throw new Error("header name must be a non-empty string");const m=c.findKey(s,p);(!m||void 0===s[m]||!0===u||void 0===u&&!1!==s[m])&&(s[m||h]=oe(l))}const a=(l,h)=>c.forEach(l,(u,p)=>o(u,p,h));return c.isPlainObject(r)||r instanceof this.constructor?a(r,t):c.isString(r)&&(r=r.trim())&&!function Yt(e){return/^[-_a-zA-Z]+$/.test(e.trim())}(r)?a((e=>{const r={};let t,n,s;return e&&e.split("\n").forEach(function(a){s=a.indexOf(":"),t=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!t||r[t]&&Wt[t])&&("set-cookie"===t?r[t]?r[t].push(n):r[t]=[n]:r[t]=r[t]?r[t]+", "+n:n)}),r})(r),t):null!=r&&o(t,r,n),this}get(r,t){if(r=Q(r)){const n=c.findKey(this,r);if(n){const s=this[n];if(!t)return s;if(!0===t)return function Kt(e){const r=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(e);)r[n[1]]=n[2];return r}(s);if(c.isFunction(t))return t.call(this,s,n);if(c.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,t){if(r=Q(r)){const n=c.findKey(this,r);return!(!n||t&&!Ge(0,this[n],n,t))}return!1}delete(r,t){const n=this;let s=!1;function o(a){if(a=Q(a)){const l=c.findKey(n,a);l&&(!t||Ge(0,n[l],l,t))&&(delete n[l],s=!0)}}return c.isArray(r)?r.forEach(o):o(r),s}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(r){const t=this,n={};return c.forEach(this,(s,o)=>{const a=c.findKey(n,o);if(a)return t[a]=oe(s),void delete t[o];const l=r?function Xt(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,t,n)=>t.toUpperCase()+n)}(o):String(o).trim();l!==o&&delete t[o],t[l]=oe(s),n[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const t=Object.create(null);return c.forEach(this,(n,s)=>{null!=n&&!1!==n&&(t[s]=r&&c.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,t])=>r+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...t){const n=new this(r);return t.forEach(s=>n.set(s)),n}static accessor(r){const n=(this[We]=this[We]={accessors:{}}).accessors,s=this.prototype;function o(a){const l=Q(a);n[l]||(function $t(e,r){const t=c.toCamelCase(" "+r);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+t,{value:function(s,o,a){return this[n].call(this,r,s,o,a)},configurable:!0})})}(s,a),n[l]=!0)}return c.isArray(r)?r.forEach(o):o(r),this}}ae.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),c.freezeMethods(ae.prototype),c.freezeMethods(ae);const x=ae;function Ee(e,r){const t=this||ve,n=r||t,s=x.from(n.headers);let o=n.data;return c.forEach(e,function(l){o=l.call(t,o,s.normalize(),r?r.status:void 0)}),s.normalize(),o}function Ke(e){return!(!e||!e.__CANCEL__)}function Ye(e,r,t){v.call(this,null==e?"canceled":e,v.ERR_CANCELED,r,t),this.name="CanceledError"}c.inherits(Ye,v,{__CANCEL__:!0});const ce=Ye,tn=U.isStandardBrowserEnv?{write:function(t,n,s,o,a,l){const h=[];h.push(t+"="+encodeURIComponent(n)),c.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),c.isString(o)&&h.push("path="+o),c.isString(a)&&h.push("domain="+a),!0===l&&h.push("secure"),document.cookie=h.join("; ")},read:function(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Xe(e,r){return e&&!function nn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(r)?function rn(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}(e,r):r}const sn=U.isStandardBrowserEnv?function(){const r=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function s(o){let a=o;return r&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=s(window.location.href),function(a){const l=c.isString(a)?s(a):a;return l.protocol===n.protocol&&l.host===n.host}}():function(){return!0};function $e(e,r){let t=0;const n=function an(e,r){e=e||10;const t=new Array(e),n=new Array(e);let a,s=0,o=0;return r=void 0!==r?r:1e3,function(h){const u=Date.now(),p=n[o];a||(a=u),t[s]=h,n[s]=u;let m=o,T=0;for(;m!==s;)T+=t[m++],m%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-a<r)return;const f=p&&u-p;return f?Math.round(1e3*T/f):void 0}}(50,250);return s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-t,h=n(l);t=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:h||void 0,estimated:h&&a&&o<=a?(a-o)/h:void 0,event:s};p[r?"download":"upload"]=!0,e(p)}}const le={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){let s=e.data;const o=x.from(e.headers).normalize(),a=e.responseType;let l;function h(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}c.isFormData(s)&&(U.isStandardBrowserEnv||U.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let u=new XMLHttpRequest;if(e.auth){const f=e.auth.username||"",d=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(f+":"+d))}const p=Xe(e.baseURL,e.url);function m(){if(!u)return;const f=x.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());(function en(e,r,t){const n=t.config.validateStatus;t.status&&n&&!n(t.status)?r(new v("Request failed with status code "+t.status,[v.ERR_BAD_REQUEST,v.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t)):e(t)})(function(_){t(_),h()},function(_){n(_),h()},{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:f,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),Ve(p,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=m:u.onreadystatechange=function(){!u||4!==u.readyState||0===u.status&&(!u.responseURL||0!==u.responseURL.indexOf("file:"))||setTimeout(m)},u.onabort=function(){!u||(n(new v("Request aborted",v.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new v("Network Error",v.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let d=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";e.timeoutErrorMessage&&(d=e.timeoutErrorMessage),n(new v(d,(e.transitional||ze).clarifyTimeoutError?v.ETIMEDOUT:v.ECONNABORTED,e,u)),u=null},U.isStandardBrowserEnv){const f=(e.withCredentials||sn(p))&&e.xsrfCookieName&&tn.read(e.xsrfCookieName);f&&o.set(e.xsrfHeaderName,f)}void 0===s&&o.setContentType(null),"setRequestHeader"in u&&c.forEach(o.toJSON(),function(d,g){u.setRequestHeader(g,d)}),c.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",$e(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",$e(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=f=>{!u||(n(!f||f.type?new ce(null,e,u):f),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const T=function on(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}(p);T&&-1===U.protocols.indexOf(T)?n(new v("Unsupported protocol "+T+":",v.ERR_BAD_REQUEST,e)):u.send(s||null)})}};c.forEach(le,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch(t){}Object.defineProperty(e,"adapterName",{value:r})}});function we(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ce(null,e)}function Qe(e){return we(e),e.headers=x.from(e.headers),e.data=Ee.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),(e=>{e=c.isArray(e)?e:[e];const{length:r}=e;let t,n;for(let s=0;s<r&&(t=e[s],!(n=c.isString(t)?le[t.toLowerCase()]:t));s++);if(!n)throw!1===n?new v(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(c.hasOwnProp(le,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!c.isFunction(n))throw new TypeError("adapter is not a function");return n})(e.adapter||ve.adapter)(e).then(function(n){return we(e),n.data=Ee.call(e,e.transformResponse,n),n.headers=x.from(n.headers),n},function(n){return Ke(n)||(we(e),n&&n.response&&(n.response.data=Ee.call(e,e.transformResponse,n.response),n.response.headers=x.from(n.response.headers))),Promise.reject(n)})}const et=e=>e instanceof x?e.toJSON():e;function J(e,r){r=r||{};const t={};function n(u,p,m){return c.isPlainObject(u)&&c.isPlainObject(p)?c.merge.call({caseless:m},u,p):c.isPlainObject(p)?c.merge({},p):c.isArray(p)?p.slice():p}function s(u,p,m){return c.isUndefined(p)?c.isUndefined(u)?void 0:n(void 0,u,m):n(u,p,m)}function o(u,p){if(!c.isUndefined(p))return n(void 0,p)}function a(u,p){return c.isUndefined(p)?c.isUndefined(u)?void 0:n(void 0,u):n(void 0,p)}function l(u,p,m){return m in r?n(u,p):m in e?n(void 0,u):void 0}const h={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,p)=>s(et(u),et(p),!0)};return c.forEach(Object.keys(e).concat(Object.keys(r)),function(p){const m=h[p]||s,T=m(e[p],r[p],p);c.isUndefined(T)&&m!==l||(t[p]=T)}),t}const Te={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{Te[e]=function(n){return typeof n===e||"a"+(r<1?"n ":" ")+e}});const nt={};Te.transitional=function(r,t,n){function s(o,a){return"[Axios v1.2.2] Transitional option '"+o+"'"+a+(n?". "+n:"")}return(o,a,l)=>{if(!1===r)throw new v(s(a," has been removed"+(t?" in "+t:"")),v.ERR_DEPRECATED);return t&&!nt[a]&&(nt[a]=!0,console.warn(s(a," has been deprecated since v"+t+" and will be removed in the near future"))),!r||r(o,a,l)}};const Se={assertOptions:function un(e,r,t){if("object"!=typeof e)throw new v("options must be an object",v.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const o=n[s],a=r[o];if(a){const l=e[o],h=void 0===l||a(l,o,e);if(!0!==h)throw new v("option "+o+" must be "+h,v.ERR_BAD_OPTION_VALUE)}else if(!0!==t)throw new v("Unknown option "+o,v.ERR_BAD_OPTION)}},validators:Te},M=Se.validators;class ue{constructor(r){this.defaults=r,this.interceptors={request:new qe,response:new qe}}request(r,t){"string"==typeof r?(t=t||{}).url=r:t=r||{},t=J(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:o}=t;let a;void 0!==n&&Se.assertOptions(n,{silentJSONParsing:M.transitional(M.boolean),forcedJSONParsing:M.transitional(M.boolean),clarifyTimeoutError:M.transitional(M.boolean)},!1),void 0!==s&&Se.assertOptions(s,{encode:M.function,serialize:M.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),a=o&&c.merge(o.common,o[t.method]),a&&c.forEach(["delete","get","head","post","put","patch","common"],d=>{delete o[d]}),t.headers=x.concat(a,o);const l=[];let h=!0;this.interceptors.request.forEach(function(g){"function"==typeof g.runWhen&&!1===g.runWhen(t)||(h=h&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let p,T,m=0;if(!h){const d=[Qe.bind(this),void 0];for(d.unshift.apply(d,l),d.push.apply(d,u),T=d.length,p=Promise.resolve(t);m<T;)p=p.then(d[m++],d[m++]);return p}T=l.length;let f=t;for(m=0;m<T;){const d=l[m++],g=l[m++];try{f=d(f)}catch(N){g.call(this,N);break}}try{p=Qe.call(this,f)}catch(d){return Promise.reject(d)}for(m=0,T=u.length;m<T;)p=p.then(u[m++],u[m++]);return p}getUri(r){return Ve(Xe((r=J(this.defaults,r)).baseURL,r.url),r.params,r.paramsSerializer)}}c.forEach(["delete","get","head","options"],function(r){ue.prototype[r]=function(t,n){return this.request(J(n||{},{method:r,url:t,data:(n||{}).data}))}}),c.forEach(["post","put","patch"],function(r){function t(n){return function(o,a,l){return this.request(J(l||{},{method:r,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}ue.prototype[r]=t(),ue.prototype[r+"Form"]=t(!0)});const de=ue;class Pe{constructor(r){if("function"!=typeof r)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const a=new Promise(l=>{n.subscribe(l),o=l}).then(s);return a.cancel=function(){n.unsubscribe(o)},a},r(function(o,a,l){n.reason||(n.reason=new ce(o,a,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){this.reason?r(this.reason):this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const t=this._listeners.indexOf(r);-1!==t&&this._listeners.splice(t,1)}static source(){let r;return{token:new Pe(function(s){r=s}),cancel:r}}}const dn=Pe,Ae={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ae).forEach(([e,r])=>{Ae[r]=e});const fn=Ae,S=function rt(e){const r=new de(e),t=Re(de.prototype.request,r);return c.extend(t,de.prototype,r,{allOwnKeys:!0}),c.extend(t,r,null,{allOwnKeys:!0}),t.create=function(s){return rt(J(e,s))},t}(ve);S.Axios=de,S.CanceledError=ce,S.CancelToken=dn,S.isCancel=Ke,S.VERSION="1.2.2",S.toFormData=se,S.AxiosError=v,S.Cancel=S.CanceledError,S.all=function(r){return Promise.all(r)},S.spread=function pn(e){return function(t){return e.apply(null,t)}},S.isAxiosError=function hn(e){return c.isObject(e)&&!0===e.isAxiosError},S.mergeConfig=J,S.AxiosHeaders=x,S.formToJSON=e=>Je(c.isHTMLForm(e)?new FormData(e):e),S.HttpStatusCode=fn,S.default=S;const mn=S;let gn=(()=>{class e{constructor(){this.API_KEY="YOUR_API_KEY",this.API_URL="https://api.openweathermap.org/data/2.5/weather"}getCurrentWeather(t,n){return(0,A.mG)(this,void 0,void 0,function*(){try{return(yield mn.get(this.API_URL,{params:{lat:t,lon:n,appid:this.API_KEY,units:"metric"}})).data.main.temp}catch(s){return console.error(s),s}})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),bn=(()=>{class e{constructor(t,n,s,o){this.route=t,this.scriptService=n,this.bucketService=s,this.weatherService=o,this.ridingDurationValues=[],this.averageSpeedValues=[],this.speedValues=[],this.userPowerValues=[],this.stateValues=[],this.cadenceValues=[],this.heartRateValues=[],this.mobileLatitudeValues=[],this.mobileLongitudeValues=[]}getCurretWeather(){return(0,A.mG)(this,void 0,void 0,function*(){const t=yield this.weatherService.getCurrentWeather(40.71,-74.01);console.log(t)})}ngOnInit(){return(0,A.mG)(this,void 0,void 0,function*(){this.route.queryParams.subscribe(t=>{void 0!==t.success?this.bucketService.toast(t.success,"success"):void 0!==t.error&&this.bucketService.toast(t.error,"danger")}),this.cobiThing=yield this.getOrInitialiseCobiThing(),console.log(this.cobiThing);for(let t=0;t<this.cobiThing.properties.length;t++)switch(this.cobiThing.properties[t].type.id){case"Riding_Duration":this.ridingDurationProperty=this.cobiThing.properties[t];break;case"SPEED":this.speedProperty=this.cobiThing.properties[t];break;case"TORQUE":this.userPowerProperty=this.cobiThing.properties[t];break;case"STATE":this.stateProperty=this.cobiThing.properties[t];break;case"CADENCE":this.cadenceProperty=this.cobiThing.properties[t];break;case"average_speed":this.averageSpeedProperty=this.cobiThing.properties[t];break;case"HEART_RATE":this.heartRateProperty=this.cobiThing.properties[t];break;case"LONGITUDE":this.mobileLongitudeProperty=this.cobiThing.properties[t];break;case"LATITUDE":this.mobileLatitudeProperty=this.cobiThing.properties[t]}this.scriptService.load("cobi").then(()=>{COBI.init("token"),setInterval(this.sendDataToBucket.bind(this),5e3);const t=document.getElementById("duration");t.innerHTML="-",COBI.tourService.ridingDuration.subscribe(f=>{t.innerHTML=f.toFixed(2),this.ridingDurationValues.push([Date.now(),f])});const n=document.getElementById("averageSpeed");n.innerHTML="-",COBI.tourService.averageSpeed.subscribe(f=>{n.innerHTML=f.toFixed(2),this.averageSpeedValues.push([Date.now(),f])});const s=document.getElementById("speed");s.innerHTML="-",COBI.rideService.speed.subscribe(f=>{s.innerHTML=f.toFixed(2),this.speedValues.push([Date.now(),f])});const o=document.getElementById("user-power");o.innerHTML="-",COBI.rideService.userPower.subscribe(f=>{o.innerHTML=f.toFixed(2),this.userPowerValues.push([Date.now(),f])});const a=document.getElementById("statediv"),l=document.getElementById("state");l.innerHTML="-";const h=a.style.backgroundColor;COBI.hub.externalInterfaceAction.subscribe(f=>{this.stateValues.push([Date.now(),1]),a.style.backgroundColor="red",setTimeout(()=>{l.innerHTML="-",a.style.backgroundColor=h},300)});const u=document.getElementById("cadence");u.innerHTML="-",COBI.rideService.cadence.subscribe(f=>{u.innerHTML=f.toFixed(2),this.cadenceValues.push([Date.now(),f])});const p=document.getElementById("heart-rate");p.innerHTML="-",COBI.rideService.heartRate.subscribe(f=>{p.innerHTML=f.toFixed(2),this.heartRateValues.push([Date.now(),f,0])});const m=document.getElementById("mobile-latitude");m.innerHTML="-",COBI.mobile.location.subscribe(f=>{let d=f.coordinate.latitude;m.innerHTML=d.toFixed(8),this.mobileLatitudeValues.push([Date.now(),d])});const T=document.getElementById("mobile-longitude");T.innerHTML="-",COBI.mobile.location.subscribe(f=>{let d=f.coordinate.longitude;T.innerHTML=d.toFixed(8),this.mobileLongitudeValues.push([Date.now(),d])})})})}getOrInitialiseCobiThing(){return(0,A.mG)(this,void 0,void 0,function*(){const t=yield this.bucketService.find();let n;for(let o=0;o<t.length;o++)"COBI"===t[o].type&&(n=t[o]);if(void 0===n){const o={name:"Cobi",description:"Cobi Thing",type:"COBI"};n=yield this.bucketService.createThing(o)}void 0===n.properties&&(n.properties=[]);const s=["SPEED","TORQUE","STATE","CADENCE","LATITUDE","HEART_RATE","LONGITUDE"];for(let o=0;o<s.length;o++){let a=!1;for(let l=0;l<n.properties.length;l++)n.properties[l].type.id===s[o]&&(a=!0);a||n.properties.push(yield this.bucketService.createProperty(n.id,{typeId:s[o]}))}return Promise.resolve(n)})}sendDataToBucket(){return(0,A.mG)(this,void 0,void 0,function*(){this.speedValues.length>0&&(this.speedProperty.values=this.speedValues.slice(),this.speedValues=[],this.bucketService.updatePropertyValues(this.cobiThing.id,this.speedProperty)),this.userPowerValues.length>0&&(this.userPowerProperty.values=this.userPowerValues.slice(),this.userPowerValues=[],this.bucketService.updatePropertyValues(this.cobiThing.id,this.userPowerProperty)),this.stateValues.length>0&&(this.stateProperty.values=this.stateValues.slice(),this.stateValues=[],this.bucketService.updatePropertyValues(this.cobiThing.id,this.stateProperty)),this.cadenceValues.length>0&&(this.cadenceProperty.values=this.cadenceValues.slice(),this.cadenceValues=[],this.bucketService.updatePropertyValues(this.cobiThing.id,this.cadenceProperty)),this.heartRateValues.length>0&&(this.heartRateProperty.values=this.heartRateValues.slice(),this.heartRateValues=[],this.bucketService.updatePropertyValues(this.cobiThing.id,this.heartRateProperty)),this.mobileLatitudeValues.length>0&&(this.mobileLatitudeProperty.values=this.mobileLatitudeValues.slice(),this.mobileLatitudeValues=[],this.bucketService.updatePropertyValues(this.cobiThing.id,this.mobileLatitudeProperty)),this.mobileLongitudeValues.length>0&&(this.mobileLongitudeProperty.values=this.mobileLongitudeValues.slice(),this.mobileLongitudeValues=[],this.bucketService.updatePropertyValues(this.cobiThing.id,this.mobileLongitudeProperty))})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(L.gz),i.Y36(D),i.Y36(P),i.Y36(gn))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-dashboard-cmp"]],decls:79,vars:0,consts:[[1,"uk-card-default","uk-card-body"],[1,"label"],["id","duration",1,"value"],[1,"unit"],["id","speed",1,"value"],["id","averageSpeed",1,"value"],["id","user-power",1,"value"],["id","heart-rate",1,"value"],["id","mobile-latitude",1,"value"],["id","mobile-longitude",1,"value"],["id","statediv",1,"uk-card-default","uk-card-body"],["id","state",1,"value"],["id","cadence",1,"value"]],template:function(t,n){1&t&&(i.TgZ(0,"table")(1,"table")(2,"tbody")(3,"tr")(4,"td")(5,"div",0)(6,"div",1),i._uU(7,"Ride Duration"),i.qZA(),i.TgZ(8,"div",2),i._uU(9,"-"),i.qZA(),i.TgZ(10,"div",3),i._uU(11,"s"),i.qZA()()(),i.TgZ(12,"td")(13,"div",0)(14,"div",1),i._uU(15,"Inst. Speed"),i.qZA(),i.TgZ(16,"div",4),i._uU(17,"-"),i.qZA(),i.TgZ(18,"div",3),i._uU(19,"m/s"),i.qZA()()(),i.TgZ(20,"td")(21,"div",0)(22,"div",1),i._uU(23,"Average Speed"),i.qZA(),i.TgZ(24,"div",5),i._uU(25,"-"),i.qZA(),i.TgZ(26,"div",3),i._uU(27,"m/s"),i.qZA()()(),i.TgZ(28,"td")(29,"div",0)(30,"div",1),i._uU(31,"User Power"),i.qZA(),i.TgZ(32,"div",6),i._uU(33,"-"),i.qZA(),i.TgZ(34,"div",3),i._uU(35,"W"),i.qZA()()(),i.TgZ(36,"td")(37,"div",0)(38,"div",1),i._uU(39,"Heart Rate"),i.qZA(),i.TgZ(40,"div",7),i._uU(41,"-"),i.qZA(),i.TgZ(42,"div",3),i._uU(43,"bpm"),i.qZA()()(),i._UZ(44,"td"),i.qZA(),i.TgZ(45,"tr")(46,"td")(47,"div",0)(48,"div",1),i._uU(49,"Latitude"),i.qZA(),i.TgZ(50,"div",8),i._uU(51,"-"),i.qZA(),i.TgZ(52,"div",3),i._uU(53,"\xb0"),i.qZA()()(),i.TgZ(54,"td")(55,"div",0)(56,"div",1),i._uU(57,"Longitude"),i.qZA(),i.TgZ(58,"div",9),i._uU(59,"-"),i.qZA(),i.TgZ(60,"div",3),i._uU(61,"\xb0"),i.qZA()()(),i.TgZ(62,"td")(63,"div",10)(64,"div",1),i._uU(65,"Button"),i.qZA(),i.TgZ(66,"div",11),i._uU(67,"-"),i.qZA(),i.TgZ(68,"div",3),i._uU(69,"-"),i.qZA()()(),i.TgZ(70,"td")(71,"div",0)(72,"div",1),i._uU(73,"Cadence"),i.qZA(),i.TgZ(74,"div",12),i._uU(75,"-"),i.qZA(),i.TgZ(76,"div",3),i._uU(77,"rpm"),i.qZA()()(),i._UZ(78,"td"),i.qZA()()()())},encapsulation:2}),e})();var yn=w(5337);const vn=function(e){return[e]};function En(e,r){if(1&e&&(i.TgZ(0,"li",8)(1,"a",9),i._UZ(2,"i"),i.TgZ(3,"p"),i._uU(4),i.qZA()()()),2&e){const t=r.$implicit;i.Tol(t.class),i.xp6(1),i.Q6J("routerLink",i.VKq(9,vn,t.path)),i.xp6(1),i.MT6("nc-icon ",t.icon," ",t.type,""),i.xp6(2),i.Oqu(t.title)}}const st=[{path:"/dashboard",title:"Dashboard",icon:"nc-layout-11",class:""}];let wn=(()=>{class e{constructor(t){this.bucketService=t}ngOnInit(){this.menuItems=st.filter(t=>t)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(P))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-sidebar-cmp"]],decls:9,vars:1,consts:[[1,"sidebar-wrapper"],[1,"logo"],["href","./",1,"simple-text","logo-mini"],[1,"logo-image-small"],["src","./assets/img/logo.png"],["href","./",1,"simple-text","logo-normal"],[1,"nav"],["routerLinkActive","active",3,"class",4,"ngFor","ngForOf"],["routerLinkActive","active"],[3,"routerLink"]],template:function(t,n){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"a",2)(3,"div",3),i._UZ(4,"img",4),i.qZA()(),i.TgZ(5,"a",5),i._uU(6," Cobi App "),i.qZA()(),i.TgZ(7,"ul",6),i.YNc(8,En,5,11,"li",7),i.qZA()()),2&t&&(i.xp6(8),i.Q6J("ngForOf",n.menuItems))},directives:[Z.sg,L.Od,L.yS],styles:[".property[_ngcontent-%COMP%]{padding-left:15px}"]}),e})();var I=w(7474);const Tn=["app-navbar-cmp"];let Sn=(()=>{class e{constructor(t,n,s,o,a,l){this.renderer=n,this.element=s,this.router=o,this.oauthService=a,this.bucketService=l,this.takeoutInProgress=!1,this.isCollapsed=!0,this.location=t,this.nativeElement=s.nativeElement,this.sidebarVisible=!1}ngOnInit(){if(this.listTitles=st.filter(n=>n),this.toggleButton=this.element.nativeElement.getElementsByClassName("navbar-toggle")[0],this.router.events.subscribe(n=>{this.sidebarClose()}),this.oauthService.hasValidAccessToken()&&this.oauthService.hasValidIdToken()){const n=this.oauthService.getIdentityClaims();this.userProfile={name:n.name,email:n.email}}}getTitle(){let t=this.location.prepareExternalUrl(this.location.path());"#"===t.charAt(0)&&(t=t.slice(1));for(let n=0;n<this.listTitles.length;n++)if(this.listTitles[n].path===t)return this.listTitles[n].title;return"Dashboard"}sidebarToggle(){!1===this.sidebarVisible?this.sidebarOpen():this.sidebarClose()}sidebarOpen(){const t=this.toggleButton,n=document.getElementsByTagName("html")[0],s=document.getElementsByClassName("main-panel")[0];setTimeout(function(){t.classList.add("toggled")},500),n.classList.add("nav-open"),window.innerWidth<991&&(s.style.position="fixed"),this.sidebarVisible=!0}sidebarClose(){const t=document.getElementsByTagName("html")[0],n=document.getElementsByClassName("main-panel")[0];window.innerWidth<991&&setTimeout(function(){n.style.position=""},500),this.toggleButton.classList.remove("toggled"),this.sidebarVisible=!1,t.classList.remove("nav-open")}collapse(){this.isCollapsed=!this.isCollapsed;const t=document.getElementsByTagName("nav")[0];this.isCollapsed?(t.classList.add("navbar-transparent"),t.classList.remove("bg-white")):(t.classList.remove("navbar-transparent"),t.classList.add("bg-white"))}logout(){this.oauthService.logOut(),this.oauthService.revokeTokenAndLogout()}editProfile(){window.open("https://dwd.tudelft.nl/profile","_blank").focus()}takeout(){console.log("takeout");const t=document.getElementById("nav-spinner");t.style.display="block",this.takeoutInProgress?console.log("ignoring takeout, already ongoing"):(this.takeoutInProgress=!0,this.download$=this.bucketService.takeout(),this.download$.subscribe(n=>{"PENDING"===n.state||"DONE"===n.state&&(t.style.display="none",this.takeoutInProgress=!1,this.bucketService.toast("Takeout ready.","success","nc-single-copy-04"))},n=>{this.takeoutInProgress=!1,t.style.display="none",this.bucketService.toast("Takeout failed.","danger","nc-single-copy-04")}))}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Z.Ye),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(L.F0),i.Y36(O.Ct),i.Y36(P))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-navbar-cmp"]],viewQuery:function(t,n){if(1&t&&i.Gf(Tn,5),2&t){let s;i.iGM(s=i.CRH())&&(n.button=s.first)}},decls:53,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-absolute","fixed-top","navbar-transparent"],[1,"container-fluid"],[1,"navbar-wrapper"],[1,"navbar-toggle"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-bar","bar1"],[1,"navbar-toggler-bar","bar2"],[1,"navbar-toggler-bar","bar3"],["href","javascript:void(0)",1,"navbar-brand"],["type","button","aria-controls","collapseExample",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-bar","navbar-kebab"],["id","collapseExample",1,"collapse","navbar-collapse","justify-content-end",3,"ngbCollapse"],["id","nav-progress-bar",1,"progress",2,"display","none"],["id","nav-progress","role","progressbar",1,"progress-bar","progress-bar-info"],["id","nav-spinner",1,"spinner",2,"display","none"],[1,"rect1"],[1,"rect2"],[1,"rect3"],[1,"rect4"],[1,"rect5"],[1,"navbar-nav"],["ngbDropdown","","placement","bottom-left",1,"nav-item","btn-rotate"],["ngbDropdownToggle","","id","navbarDropdownMenuLink",1,"nav-link"],[1,"nc-icon","nc-single-02"],[1,"d-lg-none","d-md-block"],["ngbDropdownMenu","","aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu","dropdown-menu-right"],["ngbDropdownItem",""],[1,"nc-icon","nc-email-85"],[1,"dropdown-divider"],["ngbDropdownItem","","id","download-takeout",3,"click"],[1,"nc-icon","nc-cloud-download-93"],["ngbDropdownItem","",3,"click"],[1,"nc-icon","nc-settings-gear-65"],[1,"nc-icon","nc-simple-remove"],[1,"nav-item"],["href","./","target","_blank","alt","Help","title","Help",1,"nav-link","btn-rotate"],[1,"nc-icon","nc-support-17"]],template:function(t,n){1&t&&(i.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),i.NdJ("click",function(){return n.sidebarToggle()}),i._UZ(5,"span",5)(6,"span",6)(7,"span",7),i.qZA()(),i.TgZ(8,"a",8),i._uU(9),i.qZA()(),i.TgZ(10,"button",9),i.NdJ("click",function(){return n.collapse()}),i._UZ(11,"span",10)(12,"span",10)(13,"span",10),i.qZA(),i.TgZ(14,"div",11)(15,"div",12),i._UZ(16,"div",13),i.qZA(),i.TgZ(17,"div",14),i._UZ(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18)(22,"div",19),i.qZA(),i.TgZ(23,"ul",20)(24,"li",21)(25,"a",22),i._UZ(26,"i",23),i.TgZ(27,"p")(28,"span",24),i._uU(29,"User"),i.qZA()()(),i.TgZ(30,"div",25)(31,"a",26),i._UZ(32,"i",23),i._uU(33),i.qZA(),i.TgZ(34,"a",26),i._UZ(35,"i",27),i._uU(36),i.qZA(),i._UZ(37,"div",28),i.TgZ(38,"a",29),i.NdJ("click",function(){return n.takeout()}),i._UZ(39,"i",30),i._uU(40," Takeout "),i.qZA(),i.TgZ(41,"a",31),i.NdJ("click",function(){return n.editProfile()}),i._UZ(42,"i",32),i._uU(43," Profile Settings "),i.qZA(),i.TgZ(44,"a",31),i.NdJ("click",function(){return n.logout()}),i._UZ(45,"i",33),i._uU(46," Log out "),i.qZA()()(),i.TgZ(47,"li",34)(48,"a",35),i._UZ(49,"i",36),i.TgZ(50,"p")(51,"span",24),i._uU(52,"Help"),i.qZA()()()()()()()()),2&t&&(i.xp6(9),i.Oqu(n.getTitle()),i.xp6(1),i.uIk("aria-expanded",!n.isCollapsed),i.xp6(4),i.Q6J("ngbCollapse",n.isCollapsed),i.xp6(19),i.hij(" ",n.userProfile.name," "),i.xp6(3),i.hij(" ",n.userProfile.email," "))},directives:[I.M2,I._D,I.jt,I.iD,I.Vi,I.TH],styles:[".progress[_ngcontent-%COMP%]{height:5px;width:300px}.progress-bar-info[_ngcontent-%COMP%]{background-color:#51bcda}.progress-bar-danger[_ngcontent-%COMP%]{background-color:#ef8157}.spinner[_ngcontent-%COMP%]{width:50px;height:10px;text-align:center;display:inline-block}.spinner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#000;height:100%;width:4px;margin:0 1px;display:inline-block;-webkit-animation:sk-stretchdelay 1.2s infinite ease-in-out;animation:sk-stretchdelay 1.2s infinite ease-in-out}.spinner[_ngcontent-%COMP%]   .rect2[_ngcontent-%COMP%]{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.spinner[_ngcontent-%COMP%]   .rect3[_ngcontent-%COMP%]{-webkit-animation-delay:-1s;animation-delay:-1s}.spinner[_ngcontent-%COMP%]   .rect4[_ngcontent-%COMP%]{-webkit-animation-delay:-.9s;animation-delay:-.9s}.spinner[_ngcontent-%COMP%]   .rect5[_ngcontent-%COMP%]{-webkit-animation-delay:-.8s;animation-delay:-.8s}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{overflow-x:hidden;background-color:#1d1d23;font:100 1.9rem/20px UniSansRegularItalic,Avenir,Heveltica,Arial,san-serif;color:#fff;text-align:center!important}ul[_ngcontent-%COMP%]{margin-left:3px!important;margin-right:-2px!important}.uk-card-default[_ngcontent-%COMP%]{background:#2d2d37;color:#fff;box-shadow:0;padding:.7rem .5rem}.uk-grid-small[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0!important;padding:3px!important}.label[_ngcontent-%COMP%]{font:100 .45rem/15px UniSansRegularItalic,Avenir,Heveltica,Arial,san-serif;color:#666;letter-spacing:.05rem;text-transform:uppercase;margin-bottom:1.2rem}.value[_ngcontent-%COMP%]{text-transform:uppercase}.unit[_ngcontent-%COMP%]{font:100 .55rem/22px UniSansRegular,Avenir,Heveltica,Arial,san-serif;color:#00c8e6;margin-top:.8rem;margin-bottom:0;letter-spacing:.05rem}.inactive[_ngcontent-%COMP%]{opacity:.3}"]}),e})();var Pn=w(5227);const An=[{path:"",component:(()=>{class e{ngOnInit(){console.debug("Init MyApp Component.")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-myapp"]],decls:8,vars:0,consts:[[1,"wrapper"],["data-color","white","data-active-color","danger",1,"sidebar"],[1,"main-panel"],[1,"content"]],template:function(t,n){1&t&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-sidebar-cmp"),i.qZA(),i.TgZ(3,"div",2),i._UZ(4,"app-navbar-cmp"),i.TgZ(5,"div",3),i._UZ(6,"router-outlet"),i.qZA(),i._UZ(7,"app-footer-cmp"),i.qZA()())},directives:[wn,Sn,L.lC,Pn.c],styles:['@import"https://cdn.cobi.bike/static/fonts/UniSansRegular.css";@import"https://cdn.cobi.bike/static/fonts/UniSansRegularItalic.css";body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{overflow-x:hidden;background-color:#1d1d23;font:100 1.9rem/20px UniSansRegularItalic,Avenir,Heveltica,Arial,san-serif;color:#fff;text-align:center!important}ul[_ngcontent-%COMP%]{margin-left:3px!important;margin-right:-2px!important}.uk-card-default[_ngcontent-%COMP%]{background:#2d2d37;color:#fff;box-shadow:0;padding:.7rem .5rem}.uk-grid-small[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0!important;padding:3px!important}.label[_ngcontent-%COMP%]{font:100 .45rem/15px UniSansRegularItalic,Avenir,Heveltica,Arial,san-serif;color:#666;letter-spacing:.05rem;text-transform:uppercase;margin-bottom:1.2rem}.value[_ngcontent-%COMP%]{text-transform:uppercase}.unit[_ngcontent-%COMP%]{font:100 .55rem/22px UniSansRegular,Avenir,Heveltica,Arial,san-serif;color:#00c8e6;margin-top:.8rem;margin-bottom:0;letter-spacing:.05rem}.inactive[_ngcontent-%COMP%]{opacity:.3}']}),e})(),canActivate:[yn.a],children:[{path:"",component:bn}]}];let Rn=L.Bz.forChild(An),On=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[P,D,{provide:b,useFactory:y}],imports:[[Z.ez,F.u5,I.IJ,F.UX,Rn]]}),e})()},7839:G=>{G.exports="object"==typeof self?self.FormData:window.FormData},4327:function(G,ee){var F;void 0!==(F=function(){"use strict";function A(b,y,O){var E=new XMLHttpRequest;E.open("GET",b),E.responseType="blob",E.onload=function(){j(E.response,y,O)},E.onerror=function(){console.error("could not download file")},E.send()}function C(b){var y=new XMLHttpRequest;y.open("HEAD",b,!1);try{y.send()}catch(O){}return 200<=y.status&&299>=y.status}function H(b){try{b.dispatchEvent(new MouseEvent("click"))}catch(O){var y=document.createEvent("MouseEvents");y.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),b.dispatchEvent(y)}}var R="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,i=R.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),j=R.saveAs||("object"!=typeof window||window!==R?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(b,y,O){var E=R.URL||R.webkitURL,P=document.createElement("a");P.download=y=y||b.name||"download",P.rel="noopener","string"==typeof b?(P.href=b,P.origin===location.origin?H(P):C(P.href)?A(b,y,O):H(P,P.target="_blank")):(P.href=E.createObjectURL(b),setTimeout(function(){E.revokeObjectURL(P.href)},4e4),setTimeout(function(){H(P)},0))}:"msSaveOrOpenBlob"in navigator?function(b,y,O){if(y=y||b.name||"download","string"!=typeof b)navigator.msSaveOrOpenBlob(function L(b,y){return void 0===y?y={autoBom:!1}:"object"!=typeof y&&(console.warn("Deprecated: Expected third argument to be a object"),y={autoBom:!y}),y.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\ufeff",b],{type:b.type}):b}(b,O),y);else if(C(b))A(b,y,O);else{var E=document.createElement("a");E.href=b,E.target="_blank",setTimeout(function(){H(E)})}}:function(b,y,O,E){if((E=E||open("","_blank"))&&(E.document.title=E.document.body.innerText="downloading..."),"string"==typeof b)return A(b,y,O);var P="application/octet-stream"===b.type,he=/constructor/i.test(R.HTMLElement)||R.safari,te=/CriOS\/[\d]+/.test(navigator.userAgent);if((te||P&&he||i)&&"undefined"!=typeof FileReader){var V=new FileReader;V.onloadend=function(){var D=V.result;D=te?D:D.replace(/^data:[^;]*;/,"data:attachment/file;"),E?E.location.href=D:location=D,E=null},V.readAsDataURL(b)}else{var K=R.URL||R.webkitURL,Y=K.createObjectURL(b);E?E.location=Y:location.href=Y,E=null,setTimeout(function(){K.revokeObjectURL(Y)},4e4)}});R.saveAs=j.saveAs=j,G.exports=j}.apply(ee,[]))&&(G.exports=F)}}]);